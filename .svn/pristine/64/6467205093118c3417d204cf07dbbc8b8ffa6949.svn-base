#pragma once 

#include "Includes.h"

enum NOISE_TYPE{
	NT_PERLIN,
	NT_VALUE
};

struct NoiseParams{
	float frequency;
	int octaves;
	float lacunarity;
	float persistence;
};

class Noise {
public:
	static float random() { return (rand() % 255) * (1.0f / 255); }
	static float value(glm::vec2 point, float frequency);
	static float perlin(float value, float frequency);
	static float perlin(glm::vec2 point, float frequency);

	static float sumPerlin(glm::vec2 point, float frequency, int octaves, float lacunarity, float persistence);
	static float sumValue(glm::vec2 point, float frequency, int octaves);

	static vector<glm::vec4> getMap(glm::vec2 offset, int sideLength, NoiseParams& noiseParams);
private:

	static int hash[];
	static int hashMask;

	static float gradients1D[];
	static int gradients1DMask;

	static glm::vec2 gradients2D[];
	static int gradients2DMask;

	static float sqr2;

	static float smooth(float t) {
		return t * t * t *(t * (t * 6.0f - 15.0f) + 10.0f);
	}
};