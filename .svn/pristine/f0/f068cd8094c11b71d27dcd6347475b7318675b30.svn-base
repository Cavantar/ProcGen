#pragma once 

#include "Includes.h"
#include "Net.h"
#include "Noise.h"



class Chunk{
public:
	atomic_bool ready;

	atomic_int position_x;
	atomic_int position_y;
	

	glm::vec2 heightBounds;
	GenData genData;

	//glm::ivec2 position; // Commented out because i won't be able to check if it's generating without it

	Chunk() { ready = false; }
	// After Thread Finishied We Have To Join Thread And Copy Data To Gfx
	void startPrepareThread(glm::ivec2& position, GenData& genData);
	void joinThreadAndCopy(GLSLShader& shader);
	void render(GLSLShader& shader, RENDER_TYPE renderType, GLuint globalMatricesUBO);
private:
	Net net;
	thread t;

	void prepare();
};